import { TypeSystemDefinitionNode, TypeSystemExtensionNode, DefinitionNode, GraphQLSchema } from "graphql";
import { TextDocument, NotificationHandler, PublishDiagnosticsParams, Position } from "vscode-languageserver";
import { GraphQLDocument } from "../document";
import { LoadingHandler } from "../loadingHandler";
import { FileSet } from "../fileSet";
import { ApolloConfig } from "../config";
import { GraphQLSchemaProvider, SchemaResolveConfig } from "../schema/providers";
import { ApolloEngineClient, ClientIdentity } from "../engine";
export declare type DocumentUri = string;
export interface GraphQLProjectConfig {
    clientIdentity?: ClientIdentity;
    config: ApolloConfig;
    fileSet: FileSet;
    loadingHandler: LoadingHandler;
}
export declare abstract class GraphQLProject implements GraphQLSchemaProvider {
    schemaProvider: GraphQLSchemaProvider;
    protected _onDiagnostics?: NotificationHandler<PublishDiagnosticsParams>;
    private _isReady;
    private readyPromise;
    protected engineClient?: ApolloEngineClient;
    private needsValidation;
    protected documentsByFile: Map<DocumentUri, GraphQLDocument[]>;
    config: ApolloConfig;
    schema?: GraphQLSchema;
    private fileSet;
    protected loadingHandler: LoadingHandler;
    constructor({ config, fileSet, loadingHandler, clientIdentity }: GraphQLProjectConfig);
    abstract readonly displayName: string;
    protected abstract initialize(): Promise<void>[];
    readonly isReady: boolean;
    readonly engine: ApolloEngineClient;
    readonly whenReady: Promise<void>;
    resolveSchema(config: SchemaResolveConfig): Promise<GraphQLSchema>;
    onSchemaChange(handler: NotificationHandler<GraphQLSchema>): import("../schema/providers/base").SchemaChangeUnsubscribeHandler;
    onDiagnostics(handler: NotificationHandler<PublishDiagnosticsParams>): void;
    includesFile(uri: DocumentUri): boolean;
    scanAllIncludedFiles(): Promise<void>;
    fileDidChange(uri: DocumentUri): void;
    fileWasDeleted(uri: DocumentUri): void;
    documentDidChange(document: TextDocument): void;
    private removeGraphQLDocumentsFor;
    protected invalidate(): void;
    private validateIfNeeded;
    abstract validate(): void;
    clearAllDiagnostics(): void;
    documentsAt(uri: DocumentUri): GraphQLDocument[] | undefined;
    documentAt(uri: DocumentUri, position: Position): GraphQLDocument | undefined;
    readonly documents: GraphQLDocument[];
    readonly definitions: DefinitionNode[];
    definitionsAt(uri: DocumentUri): DefinitionNode[];
    readonly typeSystemDefinitionsAndExtensions: (TypeSystemDefinitionNode | TypeSystemExtensionNode)[];
}
//# sourceMappingURL=base.d.ts.map